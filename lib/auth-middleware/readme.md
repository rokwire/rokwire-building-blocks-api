# auth-middleware

## Environment variables needed to have setup on your instance to use this library.

They should match the ones that are set in the `authservice` flask app.

- `PHONE_VERIFY_SECRET`
- `PHONE_VERIFY_AUDIENCE`
- `SHIBBOLETH_HOST`
- `SHIBBOLETH_CLIENT_ID`
- `ROKWIRE_API_KEY`
- `ROKWIRE_AUTH_HOST`
- `ROKWIRE_AUTH_KEY_PATH`
- `ROKWIRE_API_CLIENT_ID`

SHIBBOLETH_CLIENT_ID can contain one or more client IDs that are separated by comma. 
For example, `SHIBBOLETH_CLIENT_ID=abc,def,ghi`
ROKWIRE_AUTH_HOST is the issuer of the token generated by the core building block
For example, `ROKWIRE_AUTH_HOST`=https://core.api.dev.services.rokmetro.com/core
ROKWIRE_AUTH_KEY_PATH is the endpoint for fetching the auth public key
For example, `ROKWIRE_AUTH_KEY_PATH`=/tps/auth-keys
ROKWIRE_API_CLIENT_ID is the audience of the rokwire id token
For example, `ROKWIRE_API_CLIENT_ID`=rokwire